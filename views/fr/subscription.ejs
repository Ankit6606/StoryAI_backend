<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Pixel Code for PageView -->
<script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '1164497584839077');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1164497584839077&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code for PageView -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Generation Page 4</title>
    <link rel="stylesheet" href="../css/meta/global.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans:400,700">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Volkhov:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/meta/vertical-navbar.css">
    <link rel="preload" as="image" href="../css/assets/subs.png">


    <style>

.center-align {
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            font-size: 18px;
            font-weight: bold;
            color: #FDF0F2;
            height: auto;
            text-align: center;
        }

        body::after {
   content: "";
   display: block;
   width: 1px;
   height: 1px;
   background: transparent;
   transition: transform 0.1s;
}

body.loaded::after {
   transform: translateY(0);
}

       body {
           margin: 0;
           padding: 0;
           background: linear-gradient(180deg, rgba(0, 0, 0, 0.74) 20.09%, rgba(0, 0, 0, 0.64) 48.97%, rgba(0, 0, 0, 0.75) 100%),
               url('../css/assets/subs.png') center/cover no-repeat;
           height: 100vh;
           font-family: Arial, sans-serif;
           overflow: hidden;
       }
    
       @media (max-width: 768px) {

           .navbar {
               visibility: hidden;
           }

           .navTrigger {
               opacity: 1 !important;
           }

           .box {

              
               flex-shrink: 0;
               border-radius: 20px;
               

           }

           .box-1 {
               max-width: 85.5vw;
              height: 60px !important;
               border: 2px solid #FFF;
               background: var(--Linear, linear-gradient(180deg, #1F1751 0%, #070C21 157.08%));
               background-size: cover, cover;
               /* Set background-size for both layers */
               background-repeat: no-repeat;
               background-image: url("../css/assets/fr/sub/SMALL/sub131.png")
           }
           .box-2 { 
           max-width: 85.5vw;
           height: 60px !important;
           flex-shrink: 0;
           background-color: #e0e0e0; /* Adding a background color for visualization */
           transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
           border: 2px solid #FFF;
           background: #FDF0F2;
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub129.png");

       }
           .box-3 {
               max-width: 85.5vw;
               height: 60px !important;
               /* New height for box-5 */
               border: 2px solid #FFF;
              
               background-size: cover, cover;
               /* Set background-size for both layers */
               background-repeat: no-repeat;
               background-image: url("../css/assets/fr/sub/SMALL/sub130.png")
           }

           .box-5 {
               max-width: 85.5vw;
               height: 60px !important;
               /* New height for box-5 */
               border: 2px solid #FFF;
        
               background-size: cover, cover;
               /* Set background-size for both layers */
               background-repeat: no-repeat;
               background-image: url("../css/assets/fr/sub/SMALL/sub132.png");
           }

           .box-4 {
               max-width: 90.5vw !important;
               height: 8vh !important;
              
               background-size: cover, cover;
               /* Set background-size for both layers */
               background-repeat: no-repeat;
               background-image: url("../css/assets/fr/sub/SMALL/sub177.png");

           }

           .next-button {
               max-height: 50px;
               max-width: 80.5vw;
               margin-left: 3px !important;
           }
           .box-1:hover {
     width: 640px;
     height: 100px !important;
     opacity: 0.8;
     background-image: url("css/assets/subx1b.png"); /* Add the path to your new image */
   }

       .box-3:hover {
     width: 640px;
     height: 100px !important;
     opacity: 0.8;
     background-image: url("css/assets/subx3b.png"); /* Add the path to your new image */
   }

       .box-5:hover {
     width: 640px;
     height: 100px !important;
     opacity: 0.8;
     background-image: url("css/assets/subx5b.png"); /* Add the path to your new image */
   }

       .box-4:hover {
     width: 640px;
     height: 115px !important;
     opacity: 0.8;
     background-image: url("css/assets/subx4b.png"); /* Add the path to your new image */
   }
       .box-2:hover {
     width: 640px;
     height: 100px !important;
     opacity: 0.8;
     background-image: url("css/assets/subx2b.png"); /* Add the path to your new image */
   }
   


       }

       .box-m {
           gap: 5PX;
           display: flex;
           flex-direction: column;
justify-content: center;
align-items: center;
           z-index: 1;
           position: absolute;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);

       }


       .box {
           width: 640px;
           height: 180px;
           flex-shrink: 0;
           border-radius: 20px;
           z-index: 100;
           transition: box-shadow 0.3s ease, transform 0.3s ease, border 0.3s ease, margin 0.3s ease ; /* Smoother transitions */
       }
       .box:hover {
           border: 3px solid #F669B3;;
           margin-top: 10px;
           margin-bottom:10px ;
   box-shadow: 0px 20px 40px 0px rgba(255, 255, 255, 0.518); /* Enhance raise effect */
   /* Lift the card slightly on hover */
   z-index: 999; /* Make the hovered card appear above other cards */
}

       .box-1 {
           width: 600px;
     height: 100px;
     flex-shrink: 0;
     background-color: #e0e0e0; /* Adding a background color for visualization */
     transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
          
           border: 2px solid #FFF;
           
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub131.png")
       }

       .box-3 {
           width: 600px;
     height: 100px;
     flex-shrink: 0;
     background-color: #e0e0e0; /* Adding a background color for visualization */
     transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
           /* New height for box-5 */
           border: 2px solid #FFF;
           background: var(--Linear, linear-gradient(180deg, #1F1751 0%, #070C21 157.08%));
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub130.png")
       }

       .box-5 {
           width: 600px;
     height: 100px;
     flex-shrink: 0;
     background-color: #e0e0e0; /* Adding a background color for visualization */
     transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
           /* New height for box-5 */
           border: 2px solid #FFF;
           background: var(--Linear, linear-gradient(180deg, #1F1751 0%, #070C21 157.08%));
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub132.png");
       }

       .box-4 { width: 600px;
     height: 100px;
     flex-shrink: 0;
     background-color: #e0e0e0; /* Adding a background color for visualization */
     transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
           border: 2px solid #FFF;
           
           background: #FDF0F2;
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub177.png");

       }
       .selected-box {
   border: 3px solid #F669B3;
   margin-top: 10px;
   margin-bottom: 10px;
   box-shadow: 0px 20px 40px 0px rgba(255, 255, 255, 0.518);
   z-index: 999;
}
.box-2.selected-box {
   border: 3px solid #F669B3;
   margin-top: 10px;
   margin-bottom: 10px;
   box-shadow: 0px 20px 40px 0px rgba(255, 255, 255, 0.518);
   z-index: 999;
}

       .box-2 { width: 600px;
     height: 100px;
     flex-shrink: 0;
     background-color: #e0e0e0; /* Adding a background color for visualization */
     transition: height 0.5s, width 0.5s, opacity 0.5s, background-image 0.5s;
           border: 2px solid #FFF;
           
           background: #FDF0F2;
           background-size: cover, cover;
           /* Set background-size for both layers */
           background-repeat: no-repeat;
           background-image: url("../css/assets/fr/sub/SMALL/sub129.png");

       }
       /*Hover Animations */


       .box-1:hover {
     width: 640px;
     height: 180px;
     opacity: 0.8;
     background-image: url("../css/assets/fr/sub/EXPANDED/sub131.png"); /* Add the path to your new image */
   }

       .box-3:hover {
     width: 640px;
     height: 180px;
     opacity: 0.8;
     background-image: url("../css/assets/fr/sub/EXPANDED/sub130.png"); /* Add the path to your new image */
   }

       .box-5:hover {
     width: 640px;
     height: 180px;
     opacity: 0.8;
     background-image: url("../css/assets/fr/sub/EXPANDED/sub132.png"); /* Add the path to your new image */
   }

       .box-4:hover {
     width: 640px;
     height: 180px;
     opacity: 0.8;
     background-image: url("../css/assets/fr/sub/EXPANDED/sub177.png"); /* Add the path to your new image */
   }
       .box-2:hover {
     width: 640px;
     height: 180px;
     opacity: 0.8;
     background-image: url("../css/assets/fr/sub/EXPANDED/sub129.png"); /* Add the path to your new image */
   }
   
   </style>

</head>

<body>
    <div class="icons-container-2" style="scale: 0.65;">
        <div class="icon-item">
          <img src="../css/assets/gem.png" alt="Icon 1">
          <span class="icon-number"><%= gems %></span>
        </div>
        <div class="icon-item">
          <img src="../css/assets/parrot.png" alt="Icon 2">
          <span class="icon-number"><%= parrots %></span>
        </div>
      </div>
    <button class="navTrigger" id="navTrigger">
        <svg viewBox="0 0 64 48">
            <path d="M19,15 L45,15 C70,15 58,-2 49.0177126,7 L19,37"></path>
            <path d="M19,24 L45,24 C61.2371586,24 57,49 41,33 L32,24"></path>
            <path d="M45,33 L19,33 C-8,33 6,-2 22,14 L45,37"></path>
        </svg>
    </button>
    <nav class="navMenu" id="navMenu">
        <ul>
            <li>
                <div class="switch">
                  <input id="language-toggle" class="check-toggle check-toggle-round-flat" type="checkbox" onclick="toggleLanguage()">
                  <label for="language-toggle"></label>
                  <span class="on">FR</span>
                  <span class="off">EN</span>
              </div>
             
              </li>
            <li>
                <a href="/fr/home">Accueil</a><!--Home-->
            </li>
            <li>
                <a href="/fr/story">Créer Histoire</a><!--Create Story-->
            </li>
            <li>
                <a href="/fr/storyhistory">Mes Histoires</a><!--Story history-->
            </li>
            <li>
                <a href="/fr/profile">Profil</a><!--Profile-->
            </li>
            <li>
                <a href="/fr/subscribe">Abonnement</a><!--Subscription-->
            </li>
        </ul>
    </nav>
    <div class="navbar">
        <div class="icons-container">
          <div class="icon-item">
            <img src="../css/assets/gem.png" alt="Icon 1">
            <span class="icon-number"><%= gems %></span>
          </div>
          <div class="icon-item">
            <img src="../css/assets/parrot.png" alt="Icon 2">
            <span class="icon-number"><%= parrots %></span>
          </div>
        </div>
        <div class="nav-button-container">
            <div class="switch">
                <input id="language-toggle" class="check-toggle check-toggle-round-flat" type="checkbox" onclick="toggleLanguage()">
                <label for="language-toggle"></label>
                <span class="on">FR</span>
                <span class="off">EN</span>
            </div>
            <script>
                function toggleLanguage() {
        var toggleSwitch = document.getElementById('language-toggle');
        var redirectUrl;
        
        if (toggleSwitch.checked) {
            // Redirect to URL for BN (Bangla)
            redirectUrl = '../subscribe';
        } else {
            // Redirect to URL for EN (English)
            redirectUrl = '../subscribe';
        }
        
        // Redirect to the specified URL
        window.location.href = redirectUrl;
        }
            </script>
            <a href="/fr/home" class="nav-button">Accueil</a><!--Home-->
          <a href="/fr/subscribe" class="nav-button">Abonnement</a><!--Subscription-->
          <a href="/fr/profile" class="nav-button">Profil</a><!--Profile-->
          <a href="/fr/storyhistory" class="nav-button">Mes Histoires</a><!--Story history-->
          <a href="/fr/story" class="special-button">Créer Histoire</a><!--Create Story-->
        </div>
      </div>
    

    <div class="ellipse"></div>
    <form action="/fr/subscribe" method="post" id="subscriptionForm" onsubmit="updateHiddenInput()">
        <div class="box-m">
            <% if(userSubscriptionPlanFr !== "basic"){ %>
                <div class="center-align"><h2 style="color: #FDF0F2;">Vous êtes actuellement abonné à "<%= userSubscriptionPlanFr %>".</h2></div>
                <% } %>
            <% boxIdsFr.forEach((boxId, index) => { %>
                <% index += 1 %>
                <% if (userSubscriptionPlanFr !== boxId || boxId === "basic") { %>
                    <div class="box box-<%= index  %>" id="<%= boxId %>"></div>
                <% } %>
            <% }); %>
    
            <!-- Hidden input field to store the selected box ID -->
           
    
            <input type="hidden" id="selectedBoxId" name="selectedBoxId" value="<%= userSubscriptionPlanFr %>">

            <button class="next-button" type="submit" id="nextPaymentButton" style="width: 413px;
                height: 63px;
             ">Améliorer</button>
             <% if(userSubscriptionPlanFr !== "basic"){ %>
                 <button type="button" class="next-button" style="margin-top: 0px; width: 413px; color: red; height: 63px;" onclick="navigateToCancelPlan()">Annuler l'abonnement</button>
                 <% } %>
           <a href="/fr/home" style="color: #FFF;

           font-family: Volkhov;
           font-size: 20px;
           font-style: normal;
           font-weight: 700;
           line-height: 150%;margin-top: 11px; text-decoration: none;">Retour</a>
        </div>
        
    </form>
    
    


    <!-- Modal -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.body.classList.add('loaded');
        });
        function navigateToCancelPlan() {
        window.location.href = "/fr/cancelPlan";
    }
    </script>
    

    <script src="../js/vnav.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <script src="../js/subscription.js"></script>
</body>

</html>